// @include "basil.js";// @include "./lib/underscore.js";function draw() {  // get name of active script w/o file extension  var scriptName = (new File($.fileName)).name.slice(0, -4);  // get selection, filtered by TextFrame  var selection = b.selections();  selection = _.filter(    selection,    function(item) { return item.constructor.name === "TextFrame"}  );  if (selection.length === 0) { alert("Please select some TextFrames") };  // create/use dedicated layer and color for results  var layer = b.layer(scriptName);  var color = b.color(64,64,64, scriptName);  b.fill(color);  b.noStroke();  // process selection  _.each(selection, function(textFrame) {    var bboxFrame = b.bounds(textFrame);    _.each(textFrame.lines, function(line) {      var bbox = b.bounds(line);      // special cases, end of line is      // space (32) or carriage return (13)      var lastChar = _.last(line.characters);      var charCode = lastChar.contents.charCodeAt(0);      if (charCode === 13 || charCode === 32) {        bbox.right = b.bounds(line.insertionPoints[-2]).right;        bbox.width = bbox.right - bbox.left      }      b.rect(        bbox.right,        bbox.top,        bboxFrame.width - bbox.width,        bbox.height      );    })  });}b.go(b.MODESILENT);